<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>New Tab</title>

    <link rel="stylesheet" href="./static/style.css">
    <!-- HTMX (optional, used for future actions like delete) -->
    <script src="https://unpkg.com/htmx.org@1.9.12" defer></script>

</head>
<body>

<dialog>
    <button class="close-button">X</button>
    <p>This modal dialog has a groovy backdrop!</p>
    <form action="/add" method="POST" id="add-form">
        <label>
            <input type="text" name="name" placeholder="Name (Max 20 length)" required>
        </label>
        <label>
            <input type="url" name="url" placeholder="URL" required>
        </label>
        <label>
            <input type="url" name="favicon" placeholder="Custom favicon URL (optional)">
        </label>
        <button type="submit">Add</button>
    </form>
</dialog>

<div class="container">
    <ul id="links-list" class="links-list">
        {{ range .Links }}
        <li>
            <div class="link-info" onclick="window.location.href = '{{ .Href }}';">
                <div class="link-preview">
                    <img src="{{ .Img }}" alt="Preview" loading="lazy"/>
                </div>
                <div class="link-text">
                    <a href="{{ .Href }}" rel="noopener">
                        {{ .Name }}
                    </a>
                    <small style="color: var(--text-muted); display:block;">ID: {{ .ID }} â€¢ Position: {{ .Position
                        }}</small>
                </div>
            </div>
        </li>
        {{ end }}
        <li>
            <div class="link-info" id="add-link">
                <div class="link-preview">
                    <img src="./static/plus.svg" alt="Placeholder">
                </div>
                <div class="link-text">
                    <a href="#">Add new link</a>
                </div>
            </div>
        </li>
        {{ if not .Links }}
        <li class="no-results">No links found.</li>
        {{ end }}
    </ul>

    <div class="search-box">
        <form action="https://www.google.com/search" method="GET" role="search" aria-label="Google search"
              autocomplete="off">
            <input
                    type="text"
                    id="search"
                    placeholder="Search Google"
                    name="q"
                    autofocus
            />
        </form>
    </div>
</div>

<script src="./static/script.js"></script>
</body>
</html>